<!--
 * @Author: LayneH
 * @Date: 2022-10-19 21:58:58
 * @LastEditors: Do not edit
 * @LastEditTime: 2022-10-22 17:01:12
 * @FilePath: \html\debug\StringToDate.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>字符串转日期</title>
</head>

<body>
    <div id="demo"></div>

    <script>
        var str = "2022-10-20"
            //转换日期格式
            //  /pattern/是正则表达式的界定符，里面的内容(pattern)是要匹配的内容
            //g是"global",全局替换，否则默认替换第一个
            // new Date("20xx-xx-xx 00:00:00")这种格式部分浏览器可能解析不了必须用'/'代替
        str = str.replace(/-/g, '/'); //"2020/10/20",部分特殊符号还需添加转义字符
        //创建日期对象
        var date = new Date(str);
        alert(date.getTime())
            // alert(str) //2022/10/20
            // alert(date) //Thu Oct 20 2022 00:00:00 GMT+0800 (中国标准时间)
            // console.log(Date.prototype)
            //prototype["constructor"]也能调用value
            // console.log(Date.prototype.constructor) //ƒ Date() { [native code] }
            //该方法在Date的原型中扩展了format方法，使其可以方便的格式化日期格式输出。
            //为什么在原型中扩展方法，节省内存：避免每个实例重复创建自己方法，内存持续增长影响js执行效率
            // javascript 引入了 prototype 的概念，每个方法都默认由 javascript 执行环境添加一个 prototype 属性， 这个属性本身是一个 object 对象， 所以我们可以在这个 prototype 属性上添加她的属性和方法， 只要使用 new 关键词创建的实例默认都集成这个 prototype 上定义的属性和方法， 这样无论你创建多少个实例对象， 他们的行为（方法） 都指向同一个引用， 不会重复创建。
        Date.prototype.format = function(fmt) {
            var o = {

            }
        }

        // Date.prototype.format = function(fmt) {
        //         var o = {
        //             "M+": this.getMonth() + 1, //月份 
        //             "d+": this.getDate(), //日 
        //             "h+": this.getHours(), //小时 
        //             "m+": this.getMinutes(), //分 
        //             "s+": this.getSeconds(), //秒 
        //             "q+": Math.floor((this.getMonth() + 3) / 3), //季度 
        //             "S": this.getMilliseconds() //毫秒 
        //         };
        //         //处理年份
        //         var reYear = /(y+)/;
        //         var resultYear = reYear.exec(fmt);
        //         if (resultYear) {
        //             var yearformatPart = resultYear[0]; //匹配到的格式化字符
        //             var yearVal = (this.getFullYear() + "").substr(4 - yearformatPart.length);
        //             fmt = fmt.replace(yearformatPart, yearVal);
        //         }
        //         for (var k in o) {
        //             var re = new RegExp("(" + k + ")");
        //             var re = re.exec(fmt);
        //             if (re) {
        //                 var Val = "" + o[k]; //本次需要替换的数据 
        //                 var formatPart = re[0]; //匹配到的格式化字符
        //                 var replaceVal = (formatPart.length == 1) ? (Val) : (("00" + Val).substr(Val.length));
        //                 fmt = fmt.replace(formatPart, replaceVal);
        //             }
        //         }
        //         return fmt;
        //     }
        //     //yyyy-MM-dd hh:mm:ss为自定义事件格式
        // var time2 = new Date().format("yyyy-MM-dd hh:mm:ss");
        // alert(time2) //2022-10-20 23:24:07
        // Date.prototype.format = function(format) {
        //     var o = {
        //         "M+": this.getMonth() + 1, //month
        //         "d+": this.getDate(), //day
        //         "h+": this.getHours(), //hour
        //         "m+": this.getMinutes(), //minute
        //         "s+": this.getSeconds(), //second
        //         "q+": Math.floor((this.getMonth() + 3) / 3), //quarter
        //         "S": this.getMilliseconds() //millisecond
        //     }
        //     if (/(y+)/.test(format)) format = format.replace(RegExp.$1,
        //         (this.getFullYear() + "").substr(4 - RegExp.$1.length));
        //     for (var k in o)
        //         if (new RegExp("(" + k + ")").test(format))
        //             format = format.replace(RegExp.$1,
        //                 RegExp.$1.length == 1 ? o[k] :
        //                 ("00" + o[k]).substr(("" + o[k]).length));
        //     return format;
        // }
        // var date = new Date(parseInt("1347497754133"));
        // date.format("yyyy-MM-dd");
    </script>
</body>

</html>